(function(a){function c(a,b,c,g,h,i,j,k,l,n,o){var p;var q;var r;var s;if(jQuery(h[c.current_img_no]).attr("data-video")=="true")jQuery("#contentHolderUnit_"+c.current_img_no,i).html(jQuery(h[c.current_img_no]).html());jQuery(g[c.current_img_no]).removeClass("bottomNavButtonON");c.current_img_no=f(c.current_img_no,a,l);if(jQuery(h[c.current_img_no]).attr("data-video")!="true")n.css("display","none");jQuery(g[c.current_img_no]).addClass("bottomNavButtonON");c.currentZ_index=100;c.currentImg=jQuery("#contentHolderUnit_"+c.current_img_no,i);p=j;q=k;r=parseInt((b.width-j)/2);s=parseInt(b.height-k)-b.verticalAdjustment;e(c.currentImg,r,s,p,q,1,false,a,c,b,o,h,l,n,g,i,j,k);t=c.current_img_no;for(m=1;m<=Math.floor(b.numberOfVisibleItems/2);m++){c.currentZ_index--;t=f(t,-1,l);c.currentImg=jQuery("#contentHolderUnit_"+t);c.currentImg=jQuery("#contentHolderUnit_"+t,i);c.currentImg.css("z-index",c.currentZ_index);if(m==Math.floor(b.numberOfVisibleItems/2)){if(a===1){last_aux_img_no=f(t,-1,l);last_currentImg=jQuery("#contentHolderUnit_"+last_aux_img_no,i);q=k-2*(m+1)*b.elementsVerticalSpacing;p=parseInt(q*c.aspectOrig);r=parseInt((b.width-j)/2)-(m+1)*b.elementsHorizontalSpacing;s=parseInt(b.height-k)-b.verticalAdjustment+(m+1)*b.elementsVerticalSpacing;e(last_currentImg,r,s,p,q,0,false,a,c,b,o,h,l,n,g,i,j,k)}else{q=k-2*(m+1)*b.elementsVerticalSpacing;p=parseInt(q*c.aspectOrig);d(c.currentImg,m+1,b,k,c);r=parseInt((b.width-j)/2)-(m+1)*b.elementsHorizontalSpacing;s=parseInt(b.height-k)-b.verticalAdjustment+(m+1)*b.elementsVerticalSpacing;c.currentImg.css("left",r);c.currentImg.css("top",s);c.currentImg.css("opacity",0)}}c.currentImg.css("display","block");q=k-2*m*b.elementsVerticalSpacing;p=parseInt(q*c.aspectOrig);r=parseInt((b.width-j)/2)-m*b.elementsHorizontalSpacing;s=parseInt(b.height-k)-b.verticalAdjustment+m*b.elementsVerticalSpacing;e(c.currentImg,r,s,p,q,1,false,a,c,b,o,h,l,n,g,i,j,k)}var t=c.current_img_no;for(m=1;m<=Math.floor(b.numberOfVisibleItems/2);m++){c.currentZ_index--;t=f(t,1,l);c.currentImg=jQuery("#contentHolderUnit_"+t,i);c.currentImg.css("z-index",c.currentZ_index);if(m==Math.floor(b.numberOfVisibleItems/2)){if(a===1){d(c.currentImg,m+1,b,k,c);c.currentImg.css("left",parseInt((b.width-j)/2)+(j+(m+1)*b.elementsHorizontalSpacing-c.currentImg.width())+"px");c.currentImg.css("top",parseInt(b.height-k)-b.verticalAdjustment+(m+1)*b.elementsVerticalSpacing+"px");c.currentImg.css("opacity",0)}else{last_aux_img_no=f(t,1,l);last_currentImg=jQuery("#contentHolderUnit_"+last_aux_img_no,i);q=k-2*(m+1)*b.elementsVerticalSpacing;p=parseInt(q*c.aspectOrig);r=parseInt((b.width-j)/2)+(j+(m+1)*b.elementsHorizontalSpacing-p);s=parseInt(b.height-k)-b.verticalAdjustment+(m+1)*b.elementsVerticalSpacing;e(last_currentImg,r,s,p,q,0,false,a,c,b,o,h,l,n,g,i,j,k)}}c.currentImg.css("display","block");q=k-2*m*b.elementsVerticalSpacing;p=parseInt(q*c.aspectOrig);r=parseInt((b.width-j)/2)+(j+m*b.elementsHorizontalSpacing-p);s=parseInt(b.height-k)-b.verticalAdjustment+m*b.elementsVerticalSpacing;if(m==Math.floor(b.numberOfVisibleItems/2))e(c.currentImg,r,s,p,q,1,true,a,c,b,o,h,l,n,g,i,j,k);else e(c.currentImg,r,s,p,q,1,false,a,c,b,o,h,l,n,g,i,j,k)}}function d(a,b,c,d,e){var f=d-2*b*c.elementsVerticalSpacing;var g=parseInt(f*e.aspectOrig);a.css("height",f+"px");a.css("width",g+"px");if(c.resizeImages){imgInside=a.find("img:first");if(imgInside.is("img")){imgInside.css("height",f+"px");imgInside.css("width",g+"px")}}}function e(a,b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){j.slideIsRunning=true;l.html(jQuery(m[j.current_img_no]).attr("data-title"));if(g===0)a.css("z-index",j.currentZ_index-1);else a.css("z-index",j.currentZ_index);a.css("display","block");a.animate({left:b+"px",top:d+"px",width:e+"px",height:f+"px",opacity:g},k.animationTime*1e3,k.easing,function(){if(h){j.slideIsRunning=false;if(jQuery(m[j.current_img_no]).attr("data-video")=="true")o.css("display","block");if(k.autoPlay>0&&n>1&&!j.mouseOverBanner&&!j.fastForwardRunning||j.current_img_no!=j.img_no_where_to_stop&&j.fastForwardRunning){clearTimeout(j.timeoutID);j.timeoutID=setTimeout(function(){c(i,k,j,p,m,q,r,s,n,o,l)},k.autoPlay*1e3)}if(j.current_img_no==j.img_no_where_to_stop&&j.fastForwardRunning){j.fastForwardRunning=false;k.animationTime=j.animationTimeOrig;k.autoPlay=j.autoPlayOrig}}});if(k.resizeImages){imgInside=a.find("img:first");if(imgInside.is("img")){imgInside.animate({width:e+"px",height:f+"px"},k.animationTime*1e3,k.easing,function(){})}}}function f(a,b,c){if(a+b>=c){a=0}else if(a+b<0){a=c-1}else{a+=b}return a}function g(a,b,d,e,f,g,h,i,j,k,l){if(d.current_img_no-a===-1){c(1,b,d,e,f,g,h,i,j,k,l)}else if(d.current_img_no-a===1){c(-1,b,d,e,f,g,h,i,j,k,l)}else{d.fastForwardRunning=true;b.animationTime=.4;b.autoPlay=.1;d.img_no_where_to_stop=a;if(d.current_img_no<a){if(a-d.current_img_no<j-a+d.current_img_no)c(1,b,d,e,f,g,h,i,j,k,l);else c(-1,b,d,e,f,g,h,i,j,k,l)}else if(d.current_img_no>a){if(d.current_img_no-a<j-d.current_img_no+a)c(-1,b,d,e,f,g,h,i,j,k,l);else c(1,b,d,e,f,g,h,i,j,k,l)}}}var b=false;a.fn.allinone_carousel=function(e){var e=a.extend({},a.fn.allinone_carousel.defaults,e);return this.each(function(){var a=jQuery(this);var f=jQuery("<div></div>").addClass("allinone_carousel").addClass(e.skin);var h=jQuery('<div class="bannerControls">   <div class="leftNav"></div>   <div class="rightNav"></div>    </div>  <div class="contentHolder"></div>   <div class="elementTitle"></div>	<div class="playOver"></div>');a.wrap(f);a.after(h);var i=a.parent(".allinone_carousel");var h=jQuery(".bannerControls",i);var j=false;var k=0;var l=jQuery(".contentHolder",i);var n=jQuery('<div class="bottomNavLeft"></div>');var o=jQuery('<div class="bottomNav"></div>');var p=jQuery('<div class="bottomNavRight"></div>');a.after(n);a.after(o);a.after(p);if(!e.showAllControllers)h.css("display","none");var q=jQuery(".leftNav",i);var r=jQuery(".rightNav",i);q.css("display","none");r.css("display","none");if(e.showNavArrows){if(e.showOnInitNavArrows){q.css("display","block");r.css("display","block")}}var s=jQuery(".bottomNav",i);var t=jQuery(".bottomNavLeft",i);var u=jQuery(".bottomNavRight",i);var v;s.css("display","block");t.css("display","block");u.css("display","block");if(!e.showBottomNav){s.css("display","none");t.css("display","none");u.css("display","none")}if(!e.showOnInitBottomNav){s.css("left","-5000px");t.css("left","-5000px");u.css("left","-5000px")}var w=jQuery(".elementTitle",i);if(!e.showElementTitle)w.css("display","none");var x=jQuery(".playOver",i);var y=0;var z={current_img_no:0,currentImg:0,currentZ_index:101,slideIsRunning:false,mouseOverBanner:false,fastForwardRunning:false,isVideoPlaying:false,img_no_where_to_stop:0,aspectOrig:0,timeoutID:"",animationTimeOrig:e.animationTime,autoPlayOrig:e.autoPlay};var A;var B=0;i.width(e.width);i.height(e.height);l.width(e.width);l.height(e.height);h.css("margin-top",parseInt((e.height-q.height())/2)+"px");var C=a.find("ul:first");var D=C.children();if(e.numberOfVisibleItems>a.find("ul:first li").length)e.numberOfVisibleItems=a.find("ul:first li").length;if(!(e.numberOfVisibleItems%2))e.numberOfVisibleItems--;var E;var F=0;var G=0;var H;var I=0;var J=0;D.each(function(){z.currentImg=jQuery(this);if(!z.currentImg.is("li")){z.currentImg=z.currentImg.find("li:first")}if(z.currentImg.is("li")){y++;E=jQuery('<div class="contentHolderUnit" rel="'+(y-1)+'" id="contentHolderUnit_'+(y-1)+'">'+z.currentImg.html()+"</div>");l.append(E);E.css("display","none");if(F===0){F=E.width();G=E.height();z.aspectOrig=F/G}d(E,0,e,G,z);E.css("left",parseInt((e.width-E.width())/2)+"px");E.css("top",parseInt(e.height-E.height())-e.verticalAdjustment+"px");if(y==1){E.css("left",parseInt((e.width-E.width())/2)+"px");E.css("top",parseInt(e.height-E.height())-e.verticalAdjustment+"px");E.css("z-index",z.currentZ_index);E.css("display","block");if(jQuery(D[z.current_img_no]).attr("data-video")=="true")x.css("display","block")}else{if(y<=Math.ceil(e.numberOfVisibleItems/2)){z.currentZ_index--;d(E,y-1,e,G,z);E.css("left",parseInt((e.width-F)/2)+(F+(y-1)*e.elementsHorizontalSpacing-E.width())+"px");E.css("top",parseInt(e.height-G)-e.verticalAdjustment+(y-1)*e.elementsVerticalSpacing+"px");E.css("z-index",z.currentZ_index);E.css("display","block")}}H=jQuery('<div class="bottomNavButtonOFF" rel="'+(y-1)+'"></div>');s.append(H);I+=parseInt(H.css("padding-left").substring(0,H.css("padding-left").length-2))+H.width();J=parseInt((s.height()-parseInt(H.css("height").substring(0,H.css("height").length-2)))/2);H.css("margin-top",J+"px")}});x.css("left",parseInt((e.width-x.width())/2)+"px");x.css("top",parseInt(e.height-E.height()-e.verticalAdjustment+(jQuery("#contentHolderUnit_"+z.current_img_no,i).height()-x.height())/2)+"px");z.currentZ_index=100;for(m=1;m<=Math.floor(e.numberOfVisibleItems/2);m++){z.currentZ_index--;d(jQuery("#contentHolderUnit_"+(y-m),i),m,e,G,z);jQuery("#contentHolderUnit_"+(y-m),i).css("left",parseInt((e.width-F)/2)-m*e.elementsHorizontalSpacing+"px");jQuery("#contentHolderUnit_"+(y-m),i).css("top",parseInt(e.height-G)-e.verticalAdjustment+m*e.elementsVerticalSpacing+"px");jQuery("#contentHolderUnit_"+(y-m),i).css("z-index",z.currentZ_index);jQuery("#contentHolderUnit_"+(y-m),i).css("display","block")}w.html(jQuery(D[0]).attr("data-title"));s.width(I);if(e.showOnInitBottomNav){s.css("left",parseInt((i.width()-I)/2)+"px");t.css("left",parseInt(s.css("left").substring(0,s.css("left").length-2))-t.width()+"px");u.css("left",parseInt(s.css("left").substring(0,s.css("left").length-2))+s.width()+parseInt(H.css("padding-left").substring(0,H.css("padding-left").length-2))+"px")}jQuery("iframe").each(function(){var a=jQuery(this).attr("src");var b="?wmode=transparent";jQuery(this).attr("src",a+b)});z.current_img_no=0;z.currentImg=jQuery(D[z.current_img_no]);i.mouseenter(function(){z.mouseOverBanner=true;clearTimeout(z.timeoutID);if(e.autoHideNavArrows&&e.showNavArrows){q.css("display","block");r.css("display","block")}if(e.autoHideBottomNav&&e.showBottomNav){s.css("display","block");s.css("left",parseInt((i.width()-I)/2)+"px");t.css("display","block");t.css("left",parseInt(s.css("left").substring(0,s.css("left").length-2))-t.width()+"px");u.css("display","block");u.css("left",parseInt(s.css("left").substring(0,s.css("left").length-2))+s.width()+parseInt(H.css("padding-left").substring(0,H.css("padding-left").length-2))+"px")}});i.mouseleave(function(){z.mouseOverBanner=false;if(e.autoHideNavArrows&&e.showNavArrows){q.css("display","none");r.css("display","none")}if(e.autoHideBottomNav&&e.showBottomNav){s.css("display","none");t.css("display","none");u.css("display","none")}if(e.autoPlay>0&&y>1&&!z.fastForwardRunning&&!z.isVideoPlaying){clearTimeout(z.timeoutID);z.timeoutID=setTimeout(function(){c(1,e,z,K,D,i,F,G,y,x,w)},e.autoPlay*1e3)}});var E=jQuery(".contentHolderUnit",i);E.click(function(){if(!z.slideIsRunning&&!z.fastForwardRunning){var a=jQuery(this).attr("rel");if(a!=z.current_img_no){z.isVideoPlaying=false;jQuery(K[z.current_img_no]).removeClass("bottomNavButtonON");g(parseInt(a),e,z,K,D,i,F,G,y,x,w)}else{if(jQuery(D[z.current_img_no]).attr("data-video")=="true"){x.css("display","none");A=jQuery(this).find("img:first");A.css("display","none");z.isVideoPlaying=true}}}});x.click(function(){x.css("display","none");A=jQuery("#contentHolderUnit_"+z.current_img_no,i).find("img:first");A.css("display","none");z.isVideoPlaying=true});q.mousedown(function(){b=true;if(!z.slideIsRunning&&!z.fastForwardRunning){z.isVideoPlaying=false;clearTimeout(z.timeoutID);c(-1,e,z,K,D,i,F,G,y,x,w)}});q.mouseup(function(){b=false});r.mousedown(function(){b=true;if(!z.slideIsRunning&&!z.fastForwardRunning){z.isVideoPlaying=false;clearTimeout(z.timeoutID);c(1,e,z,K,D,i,F,G,y,x,w)}});r.mouseup(function(){b=false});var K=jQuery(".bottomNavButtonOFF",i);K.mousedown(function(){b=true;if(!z.slideIsRunning&&!z.fastForwardRunning){var a=jQuery(this).attr("rel");if(a!=z.current_img_no){z.isVideoPlaying=false;jQuery(K[z.current_img_no]).removeClass("bottomNavButtonON");g(parseInt(a),e,z,K,D,i,F,G,y,x,w)}}});K.mouseup(function(){b=false});K.mouseenter(function(){var a=jQuery(this);var b=a.attr("rel");if(e.showPreviewThumbs){v=jQuery('<div class="bottomOverThumb"></div>');a.append(v);var c=jQuery(D[b]).attr("data-bottom-thumb");v.html('<img src="'+c+'">')}a.addClass("bottomNavButtonON")});K.mouseleave(function(){var a=jQuery(this);var b=a.attr("rel");if(e.showPreviewThumbs){v.remove()}if(z.current_img_no!=b)a.removeClass("bottomNavButtonON")});if(e.enableTouchScreen){var L=Math.floor(Math.random()*1e5);i.wrap('<div id="carouselParent_'+L+'" style="position:relative;" />');jQuery("#carouselParent_"+L).width(e.width+1);jQuery("#carouselParent_"+L).height(e.height);i.css("cursor","url(skins/hand.cur),url(skins/hand.cur),move");i.css("left","0px");i.css("position","absolute");rightVal=parseInt(r.css("right").substring(0,r.css("right").length-2));i.mousedown(function(){rightVal=parseInt(r.css("right").substring(0,r.css("right").length-2));if(rightVal<0&&!b){r.css("visibility","hidden");q.css("visibility","hidden");r.css("right","0")}});i.mouseup(function(){b=false;if(rightVal<0){r.css("right",rightVal+"px");r.css("visibility","visible");q.css("visibility","visible")}});i.draggable({axis:"x",containment:"parent",distance:10,start:function(a,b){origLeft=jQuery(this).css("left")},stop:function(a,b){if(!z.effectIsRunning){finalLeft=jQuery(this).css("left");direction=1;if(origLeft<finalLeft){direction=-1}c(direction,e,z,K,D,i,F,G,y,x,w)}if(rightVal<0){r.css("right",rightVal+"px");r.css("visibility","visible");q.css("visibility","visible")}jQuery(this).css("left","0px")}})}jQuery(K[z.current_img_no]).addClass("bottomNavButtonON");if(e.autoPlay>0&&y>1){z.timeoutID=setTimeout(function(){c(1,e,z,K,D,i,F,G,y,x,w)},e.autoPlay*1e3)}})};a.fn.allinone_carousel.defaults={skin:"attractive",width:960,height:384,autoPlay:4,numberOfVisibleItems:7,elementsHorizontalSpacing:120,elementsVerticalSpacing:20,verticalAdjustment:0,animationTime:.8,easing:"easeOutQuad",resizeImages:true,showElementTitle:true,showAllControllers:true,showNavArrows:true,showOnInitNavArrows:true,autoHideNavArrows:true,showBottomNav:true,showOnInitBottomNav:true,autoHideBottomNav:true,showPreviewThumbs:true,enableTouchScreen:true}})(jQuery)