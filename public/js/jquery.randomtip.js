(function(a){var b={points:[],pause:5e3,speed:300,visibleTips:4};a.fn.randomtip=function(c){var d=a.extend({},b,c||{});d.area=this;if(jQuery.browser.msie){var e=parseInt(jQuery.browser.version);if(e<=8){d.speed=0}}var f=function(){this.getRan=function(a){var b=Math.floor(Math.random()*a)+1;return b};this.show=function(){var a=this.getRan(d.area.children("div.nonActive").length)-1;pointDiv=d.area.children("div.nonActive:eq("+a+")");var b=this.getRan(d.area.children("a").length)-1;tipDiv=d.area.children("a:eq("+a+")");var c=this.getRan(d.area.children("div.active").length)-1;activePointDiv=d.area.children("div.active:eq("+c+")");activePointDiv.fadeOut(d.speed,function(){d.area.prepend(activePointDiv.html());jQuery(this).empty()}).removeClass("active").addClass("nonActive");tipDiv.appendTo(pointDiv).removeClass("nonActive");pointDiv.removeClass("nonActive").addClass("active").fadeIn(d.speed)}};var g=new f;var h=d.points.length;var j="";for(i=0;i<h;i++){j+='<div class="nonActive" style="top:'+d.points[i][1]+"px; left:"+d.points[i][0]+'px;"></div>'}d.area.html(d.area.html()+j);d.area.find("div").click(function(){var a=new PopUpMethods;a.popUpOpen(jQuery("."+(jQuery(this).parents("div#mapChina").length!=0?"popUpWelcomeW":"popUpWelcomeG")))});var k=d.area.children("div.nonActive").length;for(i=0;i<d.visibleTips;i++){var l=g.getRan(k-i)-1;pointDiv=d.area.children("div.nonActive:eq("+l+")");d.area.children("a:eq("+(g.getRan(d.area.children("a").length)-1)+")").appendTo(pointDiv).removeClass("nonActive");pointDiv.removeClass("nonActive").addClass("active").fadeIn(d.speed)}var m=function(){g.show()};var n=d.area.parent().attr("id")=="mapChina"?setTimeout(function(){setInterval(m,d.pause)},d.pause/2):setInterval(m,d.pause)}})(jQuery)